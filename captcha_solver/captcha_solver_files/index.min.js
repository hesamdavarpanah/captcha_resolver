$(function(){function n(){$.ajax({url:"/Captcha/Index",type:"GET",data:null}).done(function(){var n=new Date;$("#imgCaptcha").attr("src","/Captcha/Index?"+n.getTime())})}function t(){let t=!0,n=$("#ValidCode").val(),i=$("#CaptchaCode").val(),r=$(".TypeNationality input[type=radio]:checked").val();var u=$(".TypeAcceptance input[type=radio]:checked").val();return n?$(".error_nationalCode").addClass("d-none"):($(".error_nationalCode").removeClass("d-none"),t=!1),n&&isNaN(n)==!0?($(".JustNum_nationalCode").removeClass("d-none"),t=!1):$(".JustNum_nationalCode").addClass("d-none"),r=="false"?u=="true"?n&&n.length<10?($(".errorNum_nationalCode").removeClass("d-none").text("کد ملی نمی تواند کمتر از 10 کارکتر باشد"),t=!1):$(".errorNum_nationalCode").addClass("d-none").text(""):n&&n.length<11?($(".errorNum_nationalCode").removeClass("d-none").text("شناسه ملی شرکت نمی تواند کمتر از 11 کارکتر باشد"),t=!1):$(".errorNum_nationalCode").addClass("d-none").text(""):n&&n.length<7?($(".errorNum_nationalCode").removeClass("d-none").text("کد فراگیر اتباع خارجی حداقل 7کارکتر و حداکثر 15 کارکتر می باشد"),t=!1):$(".errorNum_nationalCode").addClass("d-none").text(""),i?($("#validate-captcha").text(""),$("#validate-captcha").addClass("d-none")):($("#validate-captcha").text(" لطفا عبارت امنیتی را وارد کنید"),$("#validate-captcha").removeClass("d-none"),t=!1),i&&i.length<6?($("#validate-captcha").text("کد امنیتی نمی تواند کمتر از 6 کارکتر باشد"),$("#validate-captcha").removeClass("d-none"),t=!1):$("#validate-captcha").addClass("d-none"),t}n();setInterval(n,55e3);$("#captc").click(function(){n()});$("#ValidCode").on("keyup keydown ",function(n){var i=n.keyCode||n.which,t=n.charCode||n.keyCode||0;return i==13&&$("#formLogin").click(),t==8||t==9||t==13||t==46||t==110||t>=35&&t<=40||t>=48&&t<=57||t>=96&&t<=105});$("#ValidCode").on("paste",function(n){n.originalEvent.clipboardData.getData("Text").match(/[^\d]/)?($(".JustNum_nationalCode").removeClass("d-none"),n.preventDefault()):$(".JustNum_nationalCode").addClass("d-none")});$(".TypeAcceptance input[type=radio]").change(function(){var n=$(".TypeAcceptance input[type=radio]:checked").val(),t=$(".TypeNationality input[type=radio]:checked").val();n=="false"&&($(".nationalCode").addClass("d-none"),$(".nationalID").removeClass("d-none"),$(".foreignCode").addClass("d-none"),$("#ValidCode").attr("maxlength","11"));n=="true"&&t=="false"&&($(".nationalCode").removeClass("d-none"),$(".nationalID").addClass("d-none"),$(".foreignCode").addClass("d-none"),$("#ValidCode").attr("maxlength","10"));n=="true"&&t=="true"&&($(".nationalCode").addClass("d-none"),$(".nationalID").addClass("d-none"),$(".foreignCode").removeClass("d-none"),$("#ValidCode").attr("maxlength","15"))});$(".TypeNationality input[type=radio]").change(function(){var n=$(".TypeAcceptance input[type=radio]:checked").val(),t=$(".TypeNationality input[type=radio]:checked").val();t=="true"?n=="false"?($("#ValidCode").attr("maxlength","11"),$(".nationalCode").addClass("d-none"),$(".nationalID").removeClass("d-none"),$(".foreignCode").addClass("d-none")):($("#ValidCode").attr("maxlength","15"),$(".nationalCode").addClass("d-none"),$(".nationalID").addClass("d-none"),$(".foreignCode").removeClass("d-none")):n=="true"?($("#ValidCode").attr("maxlength","10"),$(".nationalCode").removeClass("d-none"),$(".nationalID").addClass("d-none"),$(".foreignCode").addClass("d-none")):($("#ValidCode").attr("maxlength","11"),$(".nationalCode").addClass("d-none"),$(".nationalID").removeClass("d-none"),$(".foreignCode").addClass("d-none"))});$(".TypeNationality input[type=radio]").trigger("change");$(".TypeAcceptance input[type=radio]").trigger("change");$("#formLogin").submit(function(n){$("#sendPass").attr("disabled",!0);$("#spinner").removeClass("d-none");t()||(n.preventDefault(),$("#sendPass").attr("disabled",!1),$("#spinner").addClass("d-none"))})},jQuery);